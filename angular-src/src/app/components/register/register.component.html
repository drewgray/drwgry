<h3 class="page-header">Register</h3>
<form #regForm="ngForm" novalidate (ngSubmit)="onRegisterSubmit(regForm.value, regForm.valid)">
    <div class="form-group">
        <label>Name</label>
        <input type="text" [(ngModel)]="user.name" name="name" class="form-control" #name="ngModel" required minlength="3">
        <small *ngIf='!name.valid || (name.pristine && regForm.submitted)' class="text-danger">Name is required (min of 3 letters)</small>
    </div>
    <div class="form-group">
        <label>Username</label>
        <input type="text" [(ngModel)]="user.username" name="username" class="form-control" (focusout)="onFocusoutUsername(regForm.value, regForm.valid)" #username="ngModel" required>
        <small *ngIf='!username.valid' class="text-danger">required</small>
        <small *ngIf='!usernameValid && username.dirty' class="text-danger">already taken</small>
    </div>
    <div class="form-group">
        <label>Email</label>
        <input type="text" [(ngModel)]="user.email" name="email" class="form-control" (focusout)="onFocusoutEmail(regForm.value, regForm.valid)" #email="ngModel" required>
        <small *ngIf='!email.valid' class="text-danger">required</small>
        <small *ngIf='!emailValid && email.dirty' class="text-danger">not a valid email</small>
    </div>
    <div class="form-group">
        <label>Password</label>
        <input type="password" [(ngModel)]="user.password" name="password" class="form-control" #password="ngModel" required>
        <small *ngIf='!password.valid' class="text-danger">required</small>
    </div>
    <input type="submit" class="btn btn-primary" value="Submit" [disabled]="!regForm.valid || !emailValid || !usernameValid">
</form>